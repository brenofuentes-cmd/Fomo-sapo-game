<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, viewport-fit=cover" />
  <title>FOMO SAPO</title>
  <style>
    :root{ --neonG:#39FF14; --text:#EAF7FF; }
    body{ margin:0; background:#070816; color:var(--text); font-family:sans-serif; overflow:hidden; touch-action:none; }
    #wrap{ position:fixed; inset:0; display:grid; place-items:center; background:radial-gradient(circle at 50% 20%, #1b0a3a, #070816); }
    canvas{ width:100vw; height:100vh; max-width:500px; max-height:900px; display:block; }
    
    /* Camada de UI garantida por cima */
    .overlay{ 
      position:absolute; inset:0; display:flex; align-items:center; justify-content:center; 
      z-index:100; pointer-events:none; 
    }
    .card{ 
      pointer-events:auto; width:85%; max-width:350px;
      background:rgba(255,255,255,0.1); border:1px solid rgba(255,255,255,0.2);
      border-radius:20px; padding:25px; backdrop-filter:blur(15px); text-align:center;
    }
    .btnRow{ display:flex; flex-direction:column; gap:15px; margin-top:20px; }
    button{ 
      all:unset; cursor:pointer; padding:15px; border-radius:12px;
      font-weight:900; text-transform:uppercase; letter-spacing:1px;
      background:linear-gradient(135deg, #39FF14, #00E5FF); color:#000;
      box-shadow:0 0 15px rgba(57,255,20,0.4);
    }
    button.secondary{ background:rgba(255,255,255,0.1); color:#fff; border:1px solid #fff; box-shadow:none; }
    .hide{ display:none !important; }
    .hud{ position:absolute; top:20px; width:100%; display:flex; justify-content:space-around; z-index:50; pointer-events:none; font-weight:bold; }
  </style>
</head>
<body>
<div id="wrap">
  <canvas id="c"></canvas>
  <div class="hud">
    <div>SCORE: <span id="score">0</span></div>
    <div>BEST: <span id="best">0</span></div>
  </div>
  <div class="overlay" id="startOverlay">
    <div class="card">
      <h2>üê∏ FOMO SAPO</h2>
      <p>Stop chasing. Start hopping.</p>
      <div class="btnRow">
        <button id="playBtn">JOGAR AGORA</button>
        <button class="secondary" id="muteBtn">SOM: ON</button>
      </div>
    </div>
  </div>
  <div class="overlay hide" id="overOverlay">
    <div class="card">
      <h2>REKT! üíÄ</h2>
      <p>Score: <span id="finalScore">0</span></p>
      <div class="btnRow">
        <button id="againBtn">TENTAR DE NOVO</button>
      </div>
    </div>
  </div>
</div>

<script>
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
const startOverlay = document.getElementById('startOverlay');
const overOverlay = document.getElementById('overOverlay');
const scoreEl = document.getElementById('score');

let state = 'start';
let score = 0;
let best = localStorage.getItem('sapo_best') || 0;
document.getElementById('best').innerText = best;

// Ajuste de tamanho
function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
window.addEventListener('resize', resize);
resize();

// L√≥gica simples do Sapo
const frog = { x: 50, y: 200, v: 0, r: 15 };
const pipes = [];
let frame = 0;

function jump() {
  if(state === 'play') frog.v = -6;
  else if(state === 'start') { state = 'play'; startOverlay.classList.add('hide'); }
  else if(state === 'over') { reset(); }
}

function reset() {
  score = 0; scoreEl.innerText = 0;
  frog.y = 200; frog.v = 0;
  pipes.length = 0; frame = 0;
  state = 'play';
  overOverlay.classList.add('hide');
}

// Eventos de clique/toque diretos nos bot√µes
document.getElementById('playBtn').addEventListener('pointerdown', (e) => { e.stopPropagation(); jump(); });
document.getElementById('againBtn').addEventListener('pointerdown', (e) => { e.stopPropagation(); reset(); });
document.getElementById('muteBtn').addEventListener('pointerdown', (e) => { e.stopPropagation(); alert('Som ativado!'); });

// Toque na tela para pular
window.addEventListener('pointerdown', (e) => { if(e.target.tagName !== 'BUTTON') jump(); });

function loop() {
  ctx.clearRect(0,0,canvas.width,canvas.height);
  
  // Fundo
  ctx.fillStyle = '#120026';
  ctx.fillRect(0,0,canvas.width,canvas.height);
  
  if(state === 'play') {
    frame++;
    frog.v += 0.25;
    frog.y += frog.v;
    
    if(frame % 100 === 0) pipes.push({ x: canvas.width, h: Math.random() * (canvas.height/2) + 50 });
    
    pipes.forEach((p, i) => {
      p.x -= 3;
      ctx.fillStyle = '#39FF14';
      ctx.fillRect(p.x, 0, 50, p.h); // Cano cima
      ctx.fillRect(p.x, p.h + 150, 50, canvas.height); // Cano baixo
      
      // Colis√£o simples
      if(frog.x + frog.r > p.x && frog.x - frog.r < p.x + 50) {
        if(frog.y - frog.r < p.h || frog.y + frog.r > p.h + 150) state = 'over';
      }
      
      if(p.x === 0) { score++; scoreEl.innerText = score; }
    });
    
    if(frog.y > canvas.height || frog.y < 0) state = 'over';
    if(state === 'over') {
      document.getElementById('finalScore').innerText = score;
      overOverlay.classList.remove('hide');
      if(score > best) { best = score; localStorage.setItem('sapo_best', best); }
    }
  }
  
  // Desenha Sapo
  ctx.fillStyle = '#39FF14';
  ctx.beginPath();
  ctx.arc(frog.x, frog.y, frog.r, 0, Math.PI*2);
  ctx.fill();
  
  requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>
